---
layout: default
---


{% for chapter in site.chapters %}
    {% assign prev_index = forloop.index0 | plus: 1 %}
    {% assign next_index = forloop.index0 | minus: 1 %}

    {% if site.chapters[prev_index].title == page.title and prev_index != -1 %}
        {% assign prev = chapter %}
    {% endif %}

    {% if site.chapters[next_index].title == page.title and next_index != -1 %}
        {% assign next = chapter %}
    {% endif %}
{% endfor %}

{% for chapter in site.data.toc %}
    {% if chapter[0] == page.title %}
        {% assign toc = chapter[1] %}
        {% assign index = forloop.index %}
    {% endif %}
{% endfor %}

<article>
    <header class="header">
        {% assign title_length = page.title | size %}
        <!-- <h1 {% if title_length < 35 %}class="large heading-size-{{ title_length }}"{% endif %}>{{ page.title }}</h1> -->
        <h1>{{ index }}. {{ page.title }}</h1>
    </header>

    <main>
        {{ content }}
    </main>

    <aside class="meta meta-small">
        <div>{{ page.title }}</div>
        <div class="meta-sections">
            <ul>
                {% for section in toc %}
                <li>
                    <a href="#{{ section[0] | slugify }}">{{ section[0] }}</a>
                    <ul>
                        {% for subsection in section[1] %}
                        <li><a href="#{{ subsection | slugify }}">{{ subsection }}</a></li>
                        {% endfor %}
                    </ul>
                    {% endfor %}
                </li>
            </ul>
        </div>
        {% if prev %}<a href="{{ site.baseurl }}{{ prev.url }}" class="meta-prev">&lt; previous</a>{% endif %}
        {% if next %}<a href="{{ site.baseurl }}{{ next.url }}" class="meta-next">next &gt;</a>{% endif %}
    </aside>

    <footer class="chapter-footer meta">
        {% if prev %}<a href="{{ site.baseurl }}{{ prev.url }}" class="">&lt; {{ prev.title }}</a>{% endif %}
        {% if next %}<a href="{{ site.baseurl }}{{ next.url }}" class="">{{ next.title }} &gt;</a>{% endif %}
    </footer>

</article>

{% include footer.html %}

<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<script src="{{ 'assets/js/charts.js' | relative_url }}"></script>